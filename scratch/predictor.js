function line(t,e,a,n){var s=t-a,r=e-n,i=Math.sqrt(s*s+r*r),o=(t+a)/2-i/2,c=(e+n)/2,p=Math.PI-Math.atan2(-r,s);return`<div class=line style='border: 1px solid #000; width: ${i}px; height: 0px; -moz-transform: rotate(${p}rad); -webkit-transform: rotate(${p}rad);\n    -o-transform: rotate(${p}rad); -ms-transform: rotate(${p}rad); position: absolute; top: ${c}px; left: ${o}px'</div>`}function parse(t,e){if(null!=t&&t.replace(" ","").match(/^(\d*:){0,2}\d*(\.\d*)?$/))switch(e){case"s":return parseFloat(t)||void 0;case"m":return t.includes(":")?parse(t):parse(t,"s")<8?60*parse(t,"s"):parse(t,"s");case"h":return t.split(":").length<3?parse(t,"m")<480?60*parse(t,"m"):parse(t,"m"):parse(t);default:return t.replace(" ","").split(":").reverse().reduce((t,e,a)=>t+parseFloat(e||0)*60**a,0)}}function draw(){$(".line").remove(),$(".section.interactive .options input.in.use").each(function(){var t=$(this);$(".section.interactive .options input.out").each(function(){var e=$(this);$(this).parent().parent().append(line(t.position().left+t.outerWidth(!1)+parseInt(t.css("marginLeft")),t.position().top+t.outerHeight(!1)/2,e.position().left+parseInt(e.css("marginLeft")),e.position().top+e.outerHeight(!1)/2))})})}function calculate(){let t={},e={};if($(".section.interactive .options input.in").each(function(){var a=$(this);a.removeClass("use");var n=parse(a.val(),formats[a.attr("name")]),s=a.attr("name");a.hasClass("disabled")||null==n||n<defaults[s]/2||(a.addClass("use"),t[s]=n,e[s]=a.val())}),Object.keys(t).length){const n=new XMLHttpRequest;if(n.open("GET",`https://timings.goprogram.ai/?${$.param(t)}`),history.pushState){var a=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+$.param(e);window.history.pushState({path:a},"",a)}n.send(),n.onload=(()=>{if(200==n.status){var t=JSON.parse(n.response);for(let e in t)$(`input.in[name=${e}]`).hasClass("disabled")?$(`input.out[name=${e}-predicted]`).css("background","initial"):$(`input.out[name=${e}-predicted]`).css("background","silver"),$(`input.out[name=${e}-predicted]`).val(format(t[e],formats[e]));draw()}else console.error("Error!")})}}$(document).on("keypress",function(t){"13"==(t.keyCode?t.keyCode:t.which)&&calculate()}),document.body.onresize=draw,$("#calculate").on("click",calculate);let defaults={};const t=new XMLHttpRequest;t.open("GET","https://timings.goprogram.ai"),t.send(),t.onload=(()=>{200==t.status?defaults=JSON.parse(t.response):console.error("Error!")});const formats={100:"s",200:"s",300:"s",400:"s","400H":"s",800:"m",1000:"m",1500:"m",Mile:"m",3000:"m","3000SC":"m",5000:"m","5M":"m",10000:"m","10M":"h",HM:"h",Mar:"h"};function pad(t,e=2,a="0"){return String(t).padStart(e,a)}function format(t,e){switch(e){case"s":return t.toFixed(2);case"m":return Math.floor(t/60)+":"+pad((t%60).toFixed(2),5);case"h":return Math.floor(t/3600)+":"+pad(Math.floor(t%3600/60))+":"+pad((t%60).toFixed(0));default:return t}}$("input.check").on("click",function(){this.checked?($(this).parent().children("input.in").removeClass("disabled"),$(this).parent().children("input.in").val()||$(this).parent().children("input.in").val(format(defaults[$(this).attr("name")],formats[$(this).attr("name")]))):$(this).parent().children("input.in").addClass("disabled")}),$("input.in").on("focus",function(){$(this).removeClass("disabled"),$(this).parent().children("input.check").prop("checked",!0)}),$("input.in").on("focusout",function(){$(this).val()||($(this).addClass("disabled"),$(this).parent().children("input.check").prop("checked",!1))});let data=Object.fromEntries(new URLSearchParams(window.location.search).entries());for(key in data){let t=$(`input.in[name=${key}]`);t.val(data[key]),t.parent().children("input.check").prop("checked",!0),t.removeClass("disabled")}