class Flatten extends Neural_Network{constructor(t,s,r=3){super("Flatten","identity"),this.x=t,this.y=s,this.colours=r}forward_propagate(t){let s=new Matrix(1,this.x*this.y*this.colours);for(let r=0;r<this.colours;r++)for(let i=0;i<this.x;i++)for(let e=0;e<this.y;e++)s.data[0][r*this.x*this.y+i*this.y+e]=t[r].data[e][i];return s}backward_propagate(t){let s=[];for(let r=0;r<this.colours;r++){s.push(new Matrix(this.y,this.x));for(let i=0;i<this.x;i++)for(let e=0;e<this.y;e++)s[r].data[e][i]=t.data[0][r*this.x*this.y+i*this.y+e]}return s}static from_string(t){return new Flatten(t.x,t.y,t.colours)}}