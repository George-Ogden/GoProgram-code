let length=Object.fromEntries(new URLSearchParams(window.location.search).entries()).length;null!=length&&length%1==0&&length<13&&length>4?window.history.replaceState({},"Hangman Solver",`${window.location.href.split("?")[0]}?length=${length}`):(window.history.replaceState({},"Hangman Solver",window.location.href.split("?")[0]),length=0);var word="",used="";function run(a=0){$("#start").hide(),parseInt(a)||(a=parseInt($("#length").val())),word="_".repeat(a),$(".section.interactive > .main > *").hide(),$(".section.interactive .main .main").removeClass("d-none"),$(".section.interactive .main .main").show(),update()}function guess(){$(".section.interactive .main .main .guess").text("Guess: ?"),$(".section.interactive .main .main .info").text("Thinking ...");let a=new XMLHttpRequest;a.onload=()=>{if(200==a.status){var b=a.response.toUpperCase();$(".section.interactive .main .main button.done").show(),$(".section.interactive .main .main .guess").html(`Guess: <span class=font-weight-bold>${b}</span>`),$(".section.interactive .main .main .info").html(`Please, select all the letters that are <span class=font-weight-bold>${b}</span><br> Then, press "Done"`),$(".section.interactive .main .main .info").after(""),$("button.letter.available").prop("disabled",!1),$("button.letter.available").on("click",function(){$(this).text("_"==$(this).text()?b:"_")}),$("button.done").on("click",function(){word="",used+=b,$("button.letter").each(function(){word+=$(this).text()}),update()})}else console.error("Error!")},a.open("GET",`https://api.goprogram.ai/hangman/guess?clue=${word.toLowerCase()}&used=${used.toLowerCase()}`),a.send()}function update(){for(var b of($("button").unbind("click"),html="",word))html+=`<button class="letter my-5 d-inline${"_"==b?" available":""}" disabled>${b}</button>`;if($(".section.interactive .main .buttons").html(html),40*length>$(".section.interactive .main .main .buttons").width()&&($(".section.interactive .main .main .buttons button.letter").css("font-size",`${$(".section.interactive .main .main .buttons").width()/length/20}em`),$(".section.interactive .main .main .buttons button.letter").width($(".section.interactive .main .main .buttons ").width()/length)),used.length>25)$(".section.interactive .main .main .guess").html("I'm out of guesses!"),$(".section.interactive .main .main .info").html("Something seems wrong!"),$(".section.interactive .main .main button.done").text("Reset"),$(".section.interactive .main .main button.done").on("click",function(){location.reload()});else if(word.includes("_"))$(".section.interactive .main .main button.done").hide(),guess();else{var a=used.length;$(".section.interactive .main .main .guess").html(`Wow! That took ${a} guess${1==a?"":"es"}<br> and ${a-new Set(word).size} ${a-new Set(word).size==1?"was":"were"} incorrect!`),$(".section.interactive .main .main .info").html("Thanks for using this tool and improving the AI for the next user!"),$(".section.interactive .main .main button.done").text("Reset"),$(".section.interactive .main .main button.done").on("click",function(){location.reload()});let c=new XMLHttpRequest;c.open("PUT",`https://api.goprogram.ai/hangman/update?word=${word.toLowerCase()}`),c.send()}}length&&run(length),$("#start").on("click",run)